{"version":3,"file":"card-goods-info.js","sources":["components/card-goods-info/card-goods-info.vue","../../EdgeDownload/HBuilderX/plugins/uniapp-cli-vite/uniComponent:/RDovZXh0ZXN0L0lidWtpU3Vpa2FTaG9wLUNMSS9jb21wb25lbnRzL2NhcmQtZ29vZHMtaW5mby9jYXJkLWdvb2RzLWluZm8udnVl"],"sourcesContent":["<script setup>\nimport { computed } from \"vue\";\nimport { formatPrice } from \"@/utils/format.js\";\n\nconst props = defineProps({\n  info: {\n    type: Object,\n    default: () => ({}),\n  },\n  type: {\n    type: Number,\n    default: 0,\n    /* \n      0 订单列表处\n      1 商城分类列表处\n      2 商品购物车列表处\n      3 规格选择处\n      4 创建订单处\n      5 订单历史详情\n    */\n  },\n  sku: {\n    type: Object,\n    default: () => ({}),\n  },\n});\n\nconst emits = defineEmits([\"selectBuy\"]);\n\nconst cardData = computed(() => {\n  const _bannerImg =\n    props.info.goods_banner_img || props.info?.goods_banner_imgs?.[0] || null;\n  const _skuInfo = props.sku._id\n    ? { ...props.sku }\n    : { ...props.info.sku?.[0] };\n  return {\n    _bannerImg: _bannerImg,\n    _skuInfo: _skuInfo,\n    ...props.info,\n  };\n});\n\nconst numberChange = (e) => {\n  console.log(e);\n};\n\nconst selectBuy = () => {\n  emits(\"selectBuy\", { ...props.info });\n};\n</script>\n\n<template>\n  <view class=\"card-goods-item\">\n    <view class=\"card-left\">\n      <image class=\"img\" :src=\"cardData._bannerImg\" mode=\"aspectFill\" />\n    </view>\n    <view class=\"card-right\">\n      <view class=\"top-box\">\n        <view class=\"title\">{{ info.name }}</view>\n        <view class=\"sku\">\n          <view class=\"tag\" v-if=\"[2].includes(type)\">\n            {{ cardData._skuInfo.name || \"默认规格\" }}\n          </view>\n        </view>\n      </view>\n      <view class=\"bottom-box\">\n        <view class=\"left\">\n          <view class=\"price-wrap\">\n            <view class=\"new\">\n              <text>￥</text>\n              <text class=\"big\">{{\n                formatPrice(info.price || cardData._skuInfo.price)\n              }}</text>\n            </view>\n            <view\n              class=\"old\"\n              v-if=\"info.market_price || cardData._skuInfo.market_price\"\n            >\n              <text\n                >￥{{\n                  formatPrice(\n                    info.market_price || cardData._skuInfo.market_price,\n                  )\n                }}</text\n              >\n            </view>\n          </view>\n        </view>\n        <view class=\"right\">\n          <view class=\"buy\" @click=\"selectBuy\" v-if=\"[1].includes(type)\"\n            >选购</view\n          >\n          <uv-number-box\n            v-if=\"[2].includes(type)\"\n            :value=\"cardData._countNum\"\n            @change=\"numberChange\"\n          ></uv-number-box>\n        </view>\n      </view>\n    </view>\n  </view>\n</template>\n\n<style lang=\"scss\" scoped>\n.card-goods-item {\n  width: 100%;\n  height: 180rpx;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  gap: 14rpx;\n  .card-left {\n    flex-shrink: 0;\n    height: 100%;\n    aspect-ratio: 1 / 1;\n    border-radius: 6rpx;\n    overflow: hidden;\n    .img {\n      width: 100%;\n      height: 100%;\n    }\n  }\n  .card-right {\n    flex: 1;\n    height: 100%;\n    display: flex;\n    flex-direction: column;\n    justify-content: space-between;\n    .top-box {\n      .title {\n        font-size: 28rpx;\n        color: #000;\n        @include text-ellipsis(2);\n      }\n      .sku {\n        display: flex;\n        align-items: center;\n        flex-wrap: wrap;\n        margin-top: 10rpx;\n        .tag {\n          padding: 6rpx 10rpx;\n          font-size: 20rpx;\n          color: #333;\n          background-color: #f0f0f0;\n          border-radius: 4rpx;\n        }\n      }\n    }\n    .bottom-box {\n      display: flex;\n      align-items: flex-end;\n      justify-content: space-between;\n      .left {\n        .price-wrap {\n          font-size: 22rpx;\n          .new {\n            font-weight: bolder;\n            color: $uni-color-error;\n            .big {\n              font-size: 28rpx;\n            }\n          }\n          .old {\n            font-size: 22rpx;\n            color: #999;\n            text-decoration: line-through;\n          }\n        }\n      }\n      .right {\n        .buy {\n          font-size: 24rpx;\n          background: $uni-color-primary;\n          border-radius: 40rpx;\n          padding: 12rpx 24rpx;\n          color: #fff;\n        }\n      }\n    }\n  }\n}\n</style>\n","import Component from 'D:/extest/IbukiSuikaShop-CLI/components/card-goods-info/card-goods-info.vue'\nwx.createComponent(Component)"],"names":["computed","uni"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAIA,UAAM,QAAQ;AAuBd,UAAM,QAAQ;AAEd,UAAM,WAAWA,cAAQ,SAAC,MAAM;;AAC9B,YAAM,aACJ,MAAM,KAAK,sBAAoB,iBAAM,SAAN,mBAAY,sBAAZ,mBAAgC,OAAM;AACvE,YAAM,WAAW,MAAM,IAAI,MACvB,EAAE,GAAG,MAAM,IAAK,IAChB,EAAE,IAAG,WAAM,KAAK,QAAX,mBAAiB,GAAE;AAC5B,aAAO;AAAA,QACL;AAAA,QACA;AAAA,QACA,GAAG,MAAM;AAAA,MACb;AAAA,IACA,CAAC;AAED,UAAM,eAAe,CAAC,MAAM;AAC1BC,oBAAAA,MAAA,MAAA,OAAA,wDAAY,CAAC;AAAA,IACf;AAEA,UAAM,YAAY,MAAM;AACtB,YAAM,aAAa,EAAE,GAAG,MAAM,KAAM,CAAA;AAAA,IACtC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC/CA,GAAG,gBAAgB,SAAS;"}