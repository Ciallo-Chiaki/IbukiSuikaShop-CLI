{"version":3,"file":"cart.js","sources":["stores/cart.js"],"sourcesContent":["import { defineStore } from \"pinia\";\r\nimport { ref, unref } from \"vue\";\r\n\r\nconst cartList = ref([]);\r\nexport const useCartStore = defineStore(\"cart\", () => {\r\n  const pushGoods = (data) => {\r\n    let {\r\n      _id,\r\n      _skuInfo: { _id: skuId },\r\n      _countNum,\r\n    } = data;\r\n\r\n    const index = unref(cartList).findIndex(\r\n      (item) => _id && skuId && item._id === _id && item._skuInfo._id === skuId,\r\n    );\r\n    if (index > -1) {\r\n      cartList.value[index]._countNum += _countNum;\r\n\r\n      return;\r\n    }\r\n    cartList.value.unshift(data);\r\n  };\r\n\r\n  // 计算购物车商品件数\r\n\r\n  return {\r\n    cartList,\r\n    pushGoods,\r\n  };\r\n});\r\n"],"names":["ref","defineStore","unref"],"mappings":";;AAGA,MAAM,WAAWA,cAAAA,IAAI,CAAA,CAAE;AACX,MAAC,eAAeC,cAAAA,YAAY,QAAQ,MAAM;AACpD,QAAM,YAAY,CAAC,SAAS;AAC1B,QAAI;AAAA,MACF;AAAA,MACA,UAAU,EAAE,KAAK,MAAO;AAAA,MACxB;AAAA,IACD,IAAG;AAEJ,UAAM,QAAQC,cAAAA,MAAM,QAAQ,EAAE;AAAA,MAC5B,CAAC,SAAS,OAAO,SAAS,KAAK,QAAQ,OAAO,KAAK,SAAS,QAAQ;AAAA,IAC1E;AACI,QAAI,QAAQ,IAAI;AACd,eAAS,MAAM,KAAK,EAAE,aAAa;AAEnC;AAAA,IACD;AACD,aAAS,MAAM,QAAQ,IAAI;AAAA,EAC/B;AAIE,SAAO;AAAA,IACL;AAAA,IACA;AAAA,EACJ;AACA,CAAC;;"}